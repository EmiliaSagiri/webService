<!DOCTYPE html>
<html lang="en">
<head>
    <title>文档管理</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

    <link href="./css/files.css" type="text/css" rel="stylesheet">
    <script src="./js/api.js"></script>
    <script src="./js/files.js"></script>

    <link href="./css/main.css" type="text/css" rel="stylesheet">
    <script src="./js/main.js"></script>


</head>
<body>

<div class="header">
    <h1>文档管理</h1>
    <p>副标题</p>
</div>

<div class="navbar">

</div>

<div class="row">
    <div class="side">
        <h2>工具栏</h2>
        <h5>工具列表</h5>

        <!--页面内容-->
        <div style="margin-top:20px;text-align: center;">
            <button class="btn" onclick="showModal()">上传文件到当前目录</button>
        </div>
    </div>
    <div class="main">
        <div class="content" id="content" style="border-color:gray;">
            <table class="table">
                <tbody class="tbody" id="files">
                </tbody>
            </table>
        </div>

        <!--遮罩-->
        <div class="overlay"></div>
        <!--模态框-->
        <div id="modal" class="dropbox">
            <div class="items-container">
                <div id="close" style="cursor:pointer;float: right;width:20px">
                    <span class="css-close"></span>
                </div>
                <div>
                    <p class="head"><b>拖拽文件至此</b></p>
                    <div class="modal-box-content" id="modal-box-content">
                        <table class="modal-box">
                            <tbody class="tbody"></tbody>
                        </table>
                    </div>
                    <div class="footer">
                        <button class="btn" onclick="upload()">开始上传</button>
                    </div>
                    <a href='#' onclick='clearAll()' style='position:absolute;bottom:10px;right:30px;'>清空所有</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="footer">
    <h2>底部内容</h2>
</div>

</body>

<!--嵌入脚本-->
<script src="./js/modal-box.js" type="text/javascript"></script>
<script>
    let path = localStorage.getItem("path")
    if (path == null)
        showFiles(".")
    else showFiles(path)
</script>
</html>